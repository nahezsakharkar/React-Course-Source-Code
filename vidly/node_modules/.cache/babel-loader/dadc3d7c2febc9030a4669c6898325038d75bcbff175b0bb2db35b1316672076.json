{"ast":null,"code":"import axiosMethods from './httpService';\nimport config from './../config.json';\nimport jwtDecode from \"jwt-decode\";\nconst tokenKey = \"token\";\naxiosMethods.setJwt(get);\nexport async function login(email, password) {\n  const response = await axiosMethods.post(config.apiEndpoint + \"auth\", {\n    email: email,\n    password: password\n  });\n  localStorage.setItem(tokenKey, response.data);\n}\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (error) {\n    return null;\n  }\n}\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\nconst auth = {\n  login,\n  loginWithJwt,\n  logout,\n  getCurrentUser,\n  getJwt\n};\nexport default auth;","map":{"version":3,"names":["axiosMethods","config","jwtDecode","tokenKey","setJwt","get","login","email","password","response","post","apiEndpoint","localStorage","setItem","data","loginWithJwt","jwt","logout","removeItem","getCurrentUser","getItem","error","getJwt","auth"],"sources":["C:/Users/NAHEZ SAKHARKAR/OneDrive/Desktop/React Course Source Code/vidly/src/services/authService.js"],"sourcesContent":["import axiosMethods from './httpService'\r\nimport config from './../config.json'\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst tokenKey = \"token\";\r\n\r\naxiosMethods.setJwt(get)\r\n\r\nexport async function login(email, password) {\r\n    const response = await axiosMethods.post(config.apiEndpoint + \"auth\", {\r\n        email: email,\r\n        password: password\r\n    });\r\n    localStorage.setItem(tokenKey, response.data);\r\n}\r\n\r\nexport function loginWithJwt(jwt) {\r\n    localStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport function logout() {\r\n    localStorage.removeItem(tokenKey);\r\n}\r\n\r\nexport function getCurrentUser() {\r\n    try {\r\n        const jwt = localStorage.getItem(tokenKey);\r\n        return jwtDecode(jwt);\r\n    } catch (error) {\r\n        return null\r\n    }\r\n}\r\n\r\nexport function getJwt() {\r\n    return localStorage.getItem(tokenKey)\r\n}\r\n\r\nconst auth = {\r\n    login,\r\n    loginWithJwt,\r\n    logout,\r\n    getCurrentUser,\r\n    getJwt\r\n}\r\n\r\nexport default auth"],"mappings":"AAAA,OAAOA,YAAY,MAAM,eAAe;AACxC,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,SAAS,MAAM,YAAY;AAElC,MAAMC,QAAQ,GAAG,OAAO;AAExBH,YAAY,CAACI,MAAM,CAACC,GAAG,CAAC;AAExB,OAAO,eAAeC,KAAK,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACzC,MAAMC,QAAQ,GAAG,MAAMT,YAAY,CAACU,IAAI,CAACT,MAAM,CAACU,WAAW,GAAG,MAAM,EAAE;IAClEJ,KAAK,EAAEA,KAAK;IACZC,QAAQ,EAAEA;EACd,CAAC,CAAC;EACFI,YAAY,CAACC,OAAO,CAACV,QAAQ,EAAEM,QAAQ,CAACK,IAAI,CAAC;AACjD;AAEA,OAAO,SAASC,YAAY,CAACC,GAAG,EAAE;EAC9BJ,YAAY,CAACC,OAAO,CAACV,QAAQ,EAAEa,GAAG,CAAC;AACvC;AAEA,OAAO,SAASC,MAAM,GAAG;EACrBL,YAAY,CAACM,UAAU,CAACf,QAAQ,CAAC;AACrC;AAEA,OAAO,SAASgB,cAAc,GAAG;EAC7B,IAAI;IACA,MAAMH,GAAG,GAAGJ,YAAY,CAACQ,OAAO,CAACjB,QAAQ,CAAC;IAC1C,OAAOD,SAAS,CAACc,GAAG,CAAC;EACzB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZ,OAAO,IAAI;EACf;AACJ;AAEA,OAAO,SAASC,MAAM,GAAG;EACrB,OAAOV,YAAY,CAACQ,OAAO,CAACjB,QAAQ,CAAC;AACzC;AAEA,MAAMoB,IAAI,GAAG;EACTjB,KAAK;EACLS,YAAY;EACZE,MAAM;EACNE,cAAc;EACdG;AACJ,CAAC;AAED,eAAeC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}